<!DOCTYPE html>
<meta charset="utf-8">
<head>
  <script type="text/javascript" src="../../bower_components/d3/d3.js"></script>
  <script type="text/javascript" src="../../bower_components/klayjs/klay.js"></script>
  <script type="text/javascript" src="../../dist/klayjs-d3-ww.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"/>
  <style>
    #content {
      margin-top: 5px;
    }
    
    dl {
      margin-bottom: 5px;
    }
    
    g.leaf > rect {
      stroke: #fff;
      stroke-width: 1px;
      opacity: .5;
    }
    
    g.leaf > text {
      fill: #ffffff;
    }
  
    g.compound > rect {
      opacity: 0.1;
    }
    
    .node {
    }
    
    .link {
      stroke: #999;
      stroke-opacity: .6;
      fill: none;
    }
    
    .port {
      stroke: #000;
      width: 1px;
      opacity: .6;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>klay.js Interactive Layout Example</h1>
    This small example demonstrates the <em>interactive layout</em> capabilities of klay.js.
    Note that by interactivity we don't mean user interaction but 
    consideration of previous positions by the layout algorithm.
    <ul>
      <dt>Fixed</dt>
      <dl>
        In the initial arrangement, specified by a user or application, node n4 is left of n5 and n6 is at the top.
        The positions serve as basis for the following configurations (except automatic).
        Our algorithm respects the positions and only re-calculates sizes for the compound nodes root and g0.
      </dl>
      
      <dt>Automatic</dt>
      <dl>
        The algorithm can position every node and edge as it likes.
      </dl>
      
      <dt>Layer Preserving</dt>
      <dl>
        In a top-to-bottom layout, a <em>layer</em> is a row in which nodes are placed. 
        No pair of connected nodes is allowed to be placed in the same layer.
        After layer preserving layout n6 remains above n3 even though the edge points upwards.
        The order of the nodes is not preserved though, whereby n6 is on the left of n1 after layout.
      </dl>
      
      <dt>Order Preserving</dt>
      <dl>
        After order preserving layout n4 remains on the left even though the edge (n3, n4) 
        crosses with (n2, n5).
        The layering is not preserved, n6 is at the bottom of n3 now with its edge pointing downwards.
      </dl>
      
      <dt>Layer & Order Preserving</dt>
      <dl>
        The algorithm guarantees that n6 remains at the top
        and that n4 remains at the left of n5.
      </dl>
    </ul>
      

    <button onclick="layoutFix();">Fixed</button>
    <button onclick="layout();">Automatic</button>
    <button onclick="layoutLayerPreserve();">Layer Preserving</button>
    <button onclick="layoutOrderPreserve();">Order Preserving</button>
    <button onclick="layoutLayerAndOrderPreserve();">Layer & Order Preserving</button>
    <div id="content">
      <script type="text/javascript" src="index.js"></script>
    </div>
  </div>
</body>